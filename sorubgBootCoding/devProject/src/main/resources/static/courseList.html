<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>과목 정보 조회</title>
</head>
<body>
    <button type="button" id="courseListBtn">과목 정보 조회</button>
    <section>
        <table>
            <thead>
                <tr>
                    <th>냥냥</th>
                    <th>과목번호</th>
                    <th>과목명</th>
                </tr>
            </thead>
            <tbody id="courseList">

            </tbody>
        </table>
    </section>

    <script>
        document.getElementById("courseListBtn").addEventListener("click", function() {

        fetch("/course/courseList")
        .then(response => response.json())
        .then(data => {
            let courseList = document.getElementById("courseList");
            courseList.textContent = "";

            if (data.length === 0) {
                courseList.textContent = "<tr><td colspan='3'>등록된 과목 정보가 존재하지 않습니다.</td></tr>"
            } else {
                data.forEach((course) => {
                    const tr = document.createElement("tr");

                    const tdNo = document.createElement("td");
                    tdNo.textContent = course.no;

                    const tdNumber = document.createElement("td");
                    tdNumber.textContent = course.courseNumber;

                    const tdName = document.createElement("td");
                    tdName.textContent = course.courseName;

                    tr.appendChild(tdNo);
                    tr.appendChild(tdNumber);
                    tr.appendChild(tdName);

                    courseList.appendChild(tr);
                });
            }
        })
        .catch(error => console.error('Error:', error));
    });
    </script>
</body>
</html>